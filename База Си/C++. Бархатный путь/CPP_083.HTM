<html><head>
<title>Объединения</title>
		    <style type="text/css">
TH.arial { font-family: Arial, Serif;}
P.topic { font-family: sans-serif;}
A.plain { text-decoration: none;}
A.topic01 { color: #006890;
font-family: sans-serif;
text-decoration: none;}
A.topic02 { color: #099771;
font-family: sans-serif;
text-decoration: none;}
A.topic03 { color: #719709;
font-family: sans-serif;
text-decoration: none;}
A.topic04 { color: #98650A;
font-family: sans-serif;
text-decoration: none;}
A.topic05 { color: #98340A;
font-family: sans-serif;
text-decoration: none;}
A.topic06 { color: #099607;
font-family: sans-serif;
text-decoration: none;}
A.topic07 { color: #9E1215;
font-family: sans-serif;
text-decoration: none;}
A.topic08 { color: #970941;
font-family: sans-serif;
text-decoration: none;}
A.topic09 { color: #950995;
font-family: sans-serif;
text-decoration: none;}
A.topic010 { color: #390A98;
font-family: sans-serif;
text-decoration: none;}
H1 { font-family: sans-serif;}
H2 { font-family: sans-serif;}
H3 { font-family: sans-serif;}
H4 { font-family: sans-serif;}
H5 { font-family: sans-serif;}
H6 { font-family: sans-serif;}
</style>
</head>
<body bgcolor="#FFFFFF" link="#006890" vlink="#003860" alink="#800000" text="#000000">
<table cellspacing=0 cellpadding=0 border=0 background="../../PICTURES/MENU/HEADER0.JPG" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<img src="../../PICTURES/MENU/LOGO.GIF" width=157 height=53 border=0 alt="Server for Information Technologies">
</td><td align="right">
<font size="-2">Сервер поддерживается<br><a class="plain" href="http://www.citmgu.ru">Центром Информационных Технологий</a><br>(095) 932-9212, 932-9213, 939-0783<br>E-mail: <a class=noneline href="mailto:info@citmgu.ru?Subject='From page topic CIT FORUM local copy'">info@citforum.ru</a></font>
</td></tr>
</table>
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<font size="-1">Сервер содержит море(!) аналитической информации</font>
</td><td align="right">
<font size="-1">CIT Forum CD-ROM</font>
</td></tr>
</table>
</td></tr>
</table>
<h4>Объединения</h4>
<p align=justify>Мы возвращаемся к объединениям. Наш уровень знаний делает знакомство с этой конструкцией приятным и лёгким.
<p align=justify>Объединение можно представить в виде структуры, размер которой достаточен для сохранения не более одного данного-члена объединения. Это конструкция для экономии памяти. Здесь может быть ничего лишнего. Отсюда его основные свойства и особенности:
	<ul>
	<li>объединение может включать функции-члены, в том числе конструкторы и деструкторы. Они, безусловно, могут быть полезны для обслуживания единственного значения объекта-представителя объединения;
	<li>объединение не может иметь базовых классов и само также не может служить базовым классом. По этой причине в объединения не могут входить виртуальные функции (они бесполезны);
	<li>объединения также не могут включать статические данные-члены, объекты-представители некоторого класса со специально объявленными конструкторами, деструкторами, операторными функциями присваивания. Всё это служит помехой компактному сохранению значений.
	</ul>
<p align=justify>Неименованное объединение определяет объект, а не объявляет тип. Имена членов безымянного объединения должны отличаться от других имён из области действия, где было объявлено это объединение. Безымянное объединение не содержит объявления функций-членов.
<p align=justify>В своей области действия имена членов объединения используются непосредственно без обычных операций обращения. Глобальное безымянное объединение объявляется как статическое. Всякий раз это всего лишь универсальный многофункциональный "контейнер" для хранения значений различных типов в одной и той же области памяти.
<p align=justify>Этот раздел мы завершим примером, который раскрывает неожиданные возможности использования объединения. Сочетание объединения с битовым полем позволит нам убедиться в корректности преобразований дробной части вещественного числа. Здесь самое время обратиться к соответствующему приложению.
<pre>
#include &lt;iostream.h&gt;
 union
  {
   float floatVal;
  struct
   {
    int bit0  : 1;
    int bit1  : 1;
    int bit2  : 1;
    int bit3  : 1;
    int bit4  : 1;
    int bit5  : 1;
    int bit6  : 1;
    int bit7  : 1;
    int bit8  : 1;
    int bit9  : 1;
    int bit10 : 1;
    int bit11 : 1;
    int bit12 : 1;
    int bit13 : 1;
    int bit14 : 1;
    int bit15 : 1;
    int bit16 : 1;
    int bit17 : 1;
    int bit18 : 1;
    int bit19 : 1;
    int bit20 : 1;
    int bit21 : 1;
    int bit22 : 1;
    int bit23 : 1;
    int bit24 : 1;
    int bit25 : 1;
    int bit26 : 1;
    int bit27 : 1;
    int bit28 : 1;
    int bit29 : 1;
    int bit30 : 1;
    int bit31 : 1;
   } BitField;
} MyUnion;
void main ()
{
 MyUnion.BitField.bit31 = 0;
 MyUnion.BitField.bit30 = 1;
 MyUnion.BitField.bit29 = 0;
 MyUnion.BitField.bit28 = 0;
 MyUnion.BitField.bit27 = 0;
 MyUnion.BitField.bit26 = 0;
 MyUnion.BitField.bit25 = 1;
 MyUnion.BitField.bit24 = 1;
 MyUnion.BitField.bit23 = 0;
 MyUnion.BitField.bit22 = 0;
 MyUnion.BitField.bit21 = 1;
 MyUnion.BitField.bit20 = 1;
 MyUnion.BitField.bit19 = 0;
 MyUnion.BitField.bit18 = 0;
 MyUnion.BitField.bit17 = 1;
 MyUnion.BitField.bit16 = 0;
 MyUnion.BitField.bit15 = 0;
 MyUnion.BitField.bit14 = 0;
 MyUnion.BitField.bit13 = 1;
 MyUnion.BitField.bit12 = 0;
 MyUnion.BitField.bit11 = 0;
 MyUnion.BitField.bit10 = 0;
 MyUnion.BitField.bit9  = 0;
 MyUnion.BitField.bit8  = 0;
 MyUnion.BitField.bit7  = 0;
 MyUnion.BitField.bit6  = 0;
 MyUnion.BitField.bit5  = 0;
 MyUnion.BitField.bit4  = 0;
 MyUnion.BitField.bit3  = 0;
 MyUnion.BitField.bit2  = 0;
 MyUnion.BitField.bit1  = 0;
 MyUnion.BitField.bit0  = 0;
 cout &lt;&lt; MyUnion.floatVal &lt;&lt; endl;
}
</pre>
<center>
<p><font size="-1"><a href="CPP_082.HTM">Назад</a> |
 <a href=INDEX.HTM>Содержание</a> |
 <a href="CPP_084.HTM">Вперед</a>
</font></center>
<p>&nbsp;
<table cellspacing=0 cellpadding=0 border=0 background="../../PICTURES/MENU/FOOTER0.JPG" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="right" valign="top" width="33%">
<font size="-2">Comments: <a class="plain" href="mailto:info@citmgu.ru?Subject='From bottom of CIT FORUM local copy'">info@citmgu.ru</a><br>
Designed by <a class="plain" href="mailto:andrey@novikov.com">Andrey Novikov</a><br>
Copyright &copy; <a class="plain" href="http://www.citmgu.ru/">CIT</a></font>
</td></tr>
</table>
</td></tr>
</table></body></html>
