<html>

<head>
<meta name="GENERATOR" content="Microsoft FrontPage 3.0">
<title>Документация по Cи, C++ и Visual C++</title>
</head>

<body background="../../background/bg6.gif" link="Black" vlink="Black" topmargin=2
leftmargin="5" bgcolor="Aqua">

<p align="center"><font face="Arial" color="White"><strong><big>Обработка
символьных данных</big></strong></font></p>
<div align="center"><center>

<table width="90%" height="132" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%" height="132"><p align="left"><strong><font face="Arial" color="#0080FF"><big>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    Стр.
    8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </big></font><font
    face="Arial" color="#800000"><small>&lt; <a href="../visual_docum1.htm" target="_self"
    style="color: rgb(128,64,64)">оглавление </a>&gt;</small></font></strong></p>
    <p align="left">&nbsp;<font face="Times New Roman" color="#000000">
    &nbsp;&nbsp;&nbsp;&nbsp; Язык Си лучше всего подходит для
    системной работы: написания компиляторов,
    интерпретаторов, опрерационных систем,
    редакторов текста и.т.п. В стнадартной библиотеке
    Си предусмотренымногие полезные функции,
    выполняющие простые действия с символьными
    данными. Рассмотрим из них - <strong>putchar </strong>и <strong>getchar
    </strong>выполняющие ввод и вывод символа
    соответственно и создадим на их основе ряд своих
    полезных функций. </font></p>
    <p align="left"><font face="Times New Roman" color="#000000">&nbsp;&nbsp;&nbsp;&nbsp;
    Функция <strong>getchar </strong>за одно обращение к ней
    выдает в качестве результата один символ,
    поступивший с системного ввода. Мы можем
    рассматривать <strong>getchar</strong> как функцию, имеющую
    заголовок </font></p>
    <p align="left"><font face="Times New Roman" color="#000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <strong>int getchar()</strong></font></p>
    <p align="left"><font face="Times New Roman" color="#000000">видите, у нее
    совсем нет аргументов и она возращает значение
    типа - это значение символа во внутреннем
    представлении его для данной ЭВМ(напрмер в ACSII).
    Таким образом после обращения </font></p>
    <p align="left"><font face="Times New Roman" color="#000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <strong>c = getchar() </strong></font></p>
    <p align="left"><font face="Times New Roman" color="#000000"><strong>&nbsp; </strong>переменная
    <strong>с</strong> содержит очередной символ, набранный
    вами на клавиатуре.</font></p>
    <p align="left"><font face="Times New Roman" color="#000000">&nbsp;&nbsp;&nbsp;&nbsp;
    Функция <strong>putchar </strong>за одно обращение к ней
    выдает один символ в стандарный выходной поток.
    Вызов этой функции имеет вид: </font></p>
    <p align="left"><font face="Times New Roman" color="#000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <strong>putchar(c);</strong></font></p>
    <p align="left"><font face="Times New Roman" color="#000000"><strong>c</strong>-
    переменная символьного типа, котрой
    предварительно было присвоено некоторое
    значение. Рассмотрим примеры. Программа (пример
    2.7) вывводит на экран все прописные латинские
    буквы. Мы уже напоминали что типы char и int
    взаимозаменяемы. Последовательное прибавление к
    очередному значению <strong>с</strong> обеспечивает
    выбор очередной буквы ввиду их лексической
    упорядоченности.&nbsp; </font></p>
    <p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    Пример 2.7</p>
    <div align="center"><center><table border="0" cellpadding="0" cellspacing="0" width="37%">
      <tr>
        <td width="100%"><strong>#include &lt;stdio.h&gt;<br>
        main()<br>
        {<br>
        char c;<br>
        c='A'<br>
        while(c&lt;='Z')<br>
        {<br>
        putchar(c);<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c=c+1;<br>
        }<br>
        }</strong></td>
      </tr>
    </table>
    </center></div><p align="left"><font face="Times New Roman" color="#000000">Прежде,
    чем перейти к рассмотрению примеров, обсудим, как
    машина должна определять конец входного потока
    символов, вводимых с клавиатуры терминала. Можно,
    конечно, выбрать некоторый символ как признак
    конца потока, но нужна гарантия, что он нигде не
    повторится. В использованной нами операционной
    системе для получения такого символа надо нажать
    CTRL+Z. В программе значение этого символа мы будем
    использовать через символическое имя <strong>EOF</strong>(end
    of file). Теперь мы можем написать программы
    копирования файла(прмер 2.8) . Пока не обнаружен
    конец входного потока, ЭВМ получает с клавиатуры
    символ (это делает функция <strong>getchar</strong>) и сразу
    же выодит его на экран дисплея с помощью функции <strong>putchar</strong>.
    Для завершения программы достаточно нажать CTRL+Z. </font></p>
    <p align="left"><font face="Times New Roman" color="#000000">&nbsp;&nbsp;&nbsp;&nbsp;
    Пример 2.8</font></p>
    <div align="center"><center><table border="0" cellpadding="0" cellspacing="0" width="43%">
      <tr>
        <td width="100%"><strong>/*ЭХО ПРОГРАММА*/<br>
        #include &lt;stdio.h&gt;<br>
        main()<br>
        {<br>
        char c;<br>
        c=getchar();<br>
        while(c!=EOF)<br>
        {<br>
        putchar(c);<br>
        c=getchar();<br>
        }<br>
        }</strong></td>
      </tr>
    </table>
    </center></div><p align="left"><font face="Times New Roman" color="#000000">&nbsp;&nbsp;
    Программу копирования можно написать и более
    компактно. В языке Си любое присваивание
    например, <strong>c=getchar(),</strong> можно использовать в
    любом выражении в качестве операнда; его
    значение - это просто значение, присваиваемое
    левой части. Учитывая сказанное, перепишем Эхо
    Программу (Пример 2.9) . Это компактная, элегантная
    программа принимает символ с клавиатуры и
    присваивает его переменной <strong>с</strong>, а затем
    сравнивает его с признаком конца файла. Пока этот
    признак не обнаружен, выполняется тело цикла и
    символ выдается на экран. В противном случае
    цикл, а вместе с ним и вся программа завершаются. </font></p>
    <p align="left"><font face="Times New Roman" color="#000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    Пример 2.9</font></p>
    <div align="center"><center><table border="0" cellpadding="0" cellspacing="0" width="45%">
      <tr>
        <td width="100%"><strong>*ЭХО ПРОГРАММА ВАР2.*/<br>
        #include stdio.h<br>
        main()<br>
        {<br>
        &nbsp; char c;&nbsp;&nbsp;&nbsp;&nbsp; while((c=getchar())!=EOF)putchar(c);<br>
        }</strong></td>
      </tr>
    </table>
    </center></div><p align="left"><font face="Times New Roman" color="#000000">&nbsp;&nbsp;&nbsp;
    Отметим, что включение присваиваний в проверки -
    силбное единство языка, способствующее созданию
    программ. Учтите, что скобки вокруг присваивания
    внутри условия необходимы: приоритет операции <strong>!=
    </strong>выше приоритета операции присваивания.&nbsp;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Следующяя программа (пример 3.0)
    подсчитывает количество строк, слов и символов
    во введенном с клавиатуры тексте. Слово - любая
    последовательность символов, не содержащяя
    знаков табуляции (<strong>&quot;\t&quot;</strong>),
    пробелов&nbsp;и символов <strong>&quot;\n&quot;</strong>. Будем
    предполагать также, что любая строка, в том числе
    и последняя, завершается символом перехода на
    новую строку <strong>&quot;\n&quot;</strong>. &nbsp; Обратите
    внимание на строку <strong>line= word=kc=0;</strong> в которой
    трем переменным приваивается значение нуля.
    Выражения, связанные логическими операциями <strong>&amp;&amp;(И)
    и || (ИЛИ) </strong>вычисляются слева на право. Как
    только истинность или ложность&nbsp; станет
    известной, дальнейшие вычисления
    прекращяются&nbsp; Таким образом в
    строке&nbsp;&nbsp;&nbsp;&nbsp; <strong>if(s==' ' || s=='\n' || s=='\t')&nbsp;&nbsp; </strong><br>
    символ<strong> &nbsp;s </strong>содержит пробел, то
    остальные две проверки уже не делаются. Отсюда
    следует выжный для практики вывод: первыми надо
    проверять наиболее часто встречающиеся символы. </font></p>
    <p align="left"><font face="Times New Roman" color="#000000">&nbsp; Пример 3.0</font>
    </p>
    <div align="center"><center><table border="0" cellpadding="0" cellspacing="0" width="55%">
      <tr>
        <td width="100%"><strong>/*подсчет строк, символов, слов*/<br>
        #include &lt;stdio.h&gt;<br>
        main()<br>
        {<br>
        &nbsp; int c,line,word,kx,inword=0;<br>
        &nbsp; line=word=kc=0;<br>
        &nbsp; while((c=getchar())!=EOF)<br>
        {<br>
        kc=kc+1;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(c=='\n') line=line+1;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(c=='' || c=='\n' || c=='\t') inword=0;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(!inword)<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        {<br>
        inword=1;<br>
        word=word+1;<br>
        } <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
        printf(&quot;\n&quot;);<br>
        printf(&quot;строк - %d\n&quot;,line);<br>
        printf(&quot;символов - %d\n&quot;,kc);<br>
        }<br>
        </strong></td>
      </tr>
    </table>
    </center></div><p align="center"><font face="Times New Roman" color="#000000">&nbsp;</font><font
    face="Arial" color="#804040"><small><strong>&lt; <a href="book007.htm" target="_self"
    style="color: rgb(128,64,64)">Назад </a>&gt;
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt; <a href="book009.htm"
    style="color: rgb(128,64,64)">Дальше</a> &gt;</strong></small></font><br>
    </td>
  </tr>
</table>
</center></div>
</body>
</html>
